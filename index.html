<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <title>チェーン軌道シミュレータ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body onload="F1_setVal()">
    <h1><center>チェーン軌道シミュレータ</center></h1>
    <form name="F1" action="#">
        <table border="1">
            <thead>
                <tr>
                    <th colspan="6" style="text-align:left">データ入力</th>
                </tr>
                <tr>
                    <th colspan="2"></th>
                    <th>変数名</th>
                    <th>値</th>
                    <th class="unit">unit</th>
                    <th class="symbol">記号</th>
                </tr>
            </thead>
        
            <tbody>
                <tr>
                    <td rowspan="7">バイク仕様</td>
                    <td>フレーム</td>
                    <td>チェーンステー長</td>
                    <td><input type="text" value="420" id="F1_input_dlcs"></td>
                    <td>mm</td>
                    <td>dlcs</td>
                </tr>
                    <tr>
                        <td rowspan="2">チェーン</td>
                        <td>ピッチ</td>
                        <td><label id="F1_label_cp">12.7</label></td>
                        <td>mm/T</td>
                        <td></td>
                    </tr>
                        <tr>
                            <td>チェーンタイプ</td>
                            <td>
                                <input type="radio" name="F1_input_chainTypes" id="F1_input_chainTypes_1" value="標準" checked><label>標準</label>
                                <input type="radio" name="F1_input_chainTypes" id="F1_input_chainTypes_2" value="半コマ"><label>半コマ</label>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                    
                    <tr>
                        <td rowspan="2">チェーンリング</td>
                        <td>歯数</td>
                        <td>
                            <select id="F1_select_crt" onchange="F1_setVal()">
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                                <option value="32">32</option>
                                <option value="33">33</option>
                                <option value="34">34</option>
                                <option value="35">35</option>
                                <option value="36">36</option>
                                <option value="37">37</option>
                                <option value="38">38</option>
                                <option value="39">39</option>
                                <option value="40">40</option>
                                <option value="41">41</option>
                                <option value="42">42</option>
                                <option value="43">43</option>
                                <option value="44">44</option>
                                <option value="45">45</option>
                                <option value="46">46</option>
                                <option value="47">47</option>
                                <option value="48">48</option>
                                <option value="49">49</option>
                                <option value="50">50</option>
                                <option value="51">51</option>
                                <option value="52" selected>52</option>
                                <option value="53">53</option>
                                <option value="54">54</option>
                                <option value="55">55</option>
                                <option value="56">56</option>
                                <option value="57">57</option>
                                <option value="58">58</option>
                                <option value="59">59</option>
                                <option value="60">60</option>
                                <option value="61">61</option>
                                <option value="62">62</option>
                            </select>
                        </td>
                        <td>T</td>
                        <td></td>
                    </tr>
                        <tr>
                            <td>ピッチ円直径</td>
                            <td><label id="F1_label_d1"></label></td>
                            <td>mm</td>
                            <td>D1</td>
                        </tr>
                    
                    <tr>
                        <td rowspan="2">スプロケット</td>
                        <td>歯数</td>
                        <td>
                            <select id="F1_select_cst" onchange="F1_setVal()">
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23" selected>23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                                <option value="32">32</option>
                                <option value="33">33</option>
                                <option value="34">34</option>
                                <option value="35">35</option>
                                <option value="36">36</option>
                                <option value="37">37</option>
                                <option value="38">38</option>
                                <option value="39">39</option>
                                <option value="40">40</option>
                                <option value="41">41</option>
                                <option value="42">42</option>
                                <option value="43">43</option>
                                <option value="44">44</option>
                            </select>
                        </td>
                        <td>T</td>
                        <td></td>
                    </tr>
                        <tr>
                            <td>ピッチ円直径</td>
                            <td><label id="F1_label_d2"></label></td>
                            <td>mm</td>
                            <td>D2</td>
                        </tr>
                
                <tr>
                    <td rowspan="5">チェーン</br>テンショナー</br>設定</td>
                    <td>アーム</td>
                    <td>スイング半径</td>
                    <td><input type="text" id="F1_input_r0" value="141.665"></td>
                    <td>mm</td>
                    <td>R0</td>
                </tr>
                <tr>
                    <td rowspan="2">部品中心間</br>距離</td>
                    <td>チェーンステー</br>　⇔チェーンピン</td>
                    <td><input type="text" id="F1_input_dd0" value="25.0" onchange="F1_setVal()"></td>
                    <td>mm</td>
                    <td>d'0</td>
                </tr>
                    <tr>
                        <td>チェーンステー</br>　⇔プーリー</br>( ≒ d'0 + D3/2 )</td>
                        <td><label id="F1_label_d0"></label></td>
                        <td>mm</td>
                        <td>d0</td>
                    </tr>
                <tr>
                    <td rowspan="2">テンション</br>プーリー</td>
                    <td>歯数</td>
                    <td>
                        <select id="F1_select_tpt" onchange="F1_setVal()">
                            <option value="10">10</option>
                            <option value="11" selected>11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                        </select>
                    </td>
                    <td>T</td>
                    <td></td>
                </tr>
                    <tr>
                        <td>ピッチ円直径</td>
                        <td><label id="F1_label_d3"></label></td>
                        <td>mm</td>
                        <td>D3</td>
                    </tr>
                <tr>
                    <td colspan="6" class="chart"><img src="./chainOrbit.jpg" width="600px"></td>
                </tr>
                <tr>
                    <td colspan="6">
                        <center>
                            <INPUT type="button" id="F1_BTN_startCalcAndOpti" value="軌道計算" onClick="startCalcAndOpti()">
                        </center>
                    </td>
                </tr>
            </tbody>
            <tbody class="calcResult" id="calcResultTbl">
                <tr>
                    <th colspan="6" style="text-align:left">計算結果</th>
                </tr>
                <tr>
                    <td rowspan="6">Sim-1</td>
                    <td colspan="2">チェーンステー長</td>
                    <td><label id="F1_label_dlcs_sim1"></label></td>
                    <td>mm</td>
                    <td>dlcs</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンコマ数</td>
                    <td><label id="F1_label_nc_sim1"></label></td>
                    <td>pcs.</td>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">開始コマと終端コマの距離</td>
                    <td><label id="F1_label_dist_sim1"></label></td>
                    <td>mm</td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">部品中心間</br>距離</td>
                    <td>チェーンステー</br>　⇔チェーンピン</td>
                    <td><label id="F1_label_dd0_sim1"></label></td>
                    <td>mm</td>
                    <td>d'0</td>
                </tr>
                <tr>
                    <td>チェーンステー</br>　⇔プーリー</br>( ≒ d'0 + D3/2 )</td>
                    <td><label id="F1_label_d0_sim1"></label></td>
                    <td>mm</td>
                    <td>d0</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンテンショナースイング角</td>
                    <td><label id="F1_label_swangle_sim1"></label></td>
                    <td>degree</td>
                    <td>θ0</td>
                </tr>
                <tr>
                    <td rowspan="6">Sim-2</td>
                    <td colspan="2">チェーンステー長</td>
                    <td>
                        <input type="text" id="F1_input_dlcs_sim2">
                        <INPUT type="button" id="F1_BTN_startCalcAndOpti_sim2" value="軌道計算" onClick="startCalcAndOpti()">
                    </td>
                    <td>mm</td>
                    <td>dlcs</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンコマ数</td>
                    <td><label id="F1_label_nc_sim2"></label></td>
                    <td>pcs.</td>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">開始コマと終端コマの距離</td>
                    <td><label id="F1_label_dist_sim2"></label></td>
                    <td>mm</td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">部品中心間</br>距離</td>
                    <td>チェーンステー</br>　⇔チェーンピン</td>
                    <td><label id="F1_label_dd0_sim2"></label></td>
                    <td>mm</td>
                    <td>d'0</td>
                </tr>
                <tr>
                    <td>チェーンステー</br>　⇔プーリー</br>( ≒ d'0 + D3/2 )</td>
                    <td><label id="F1_label_d0_sim2"></label></td>
                    <td>mm</td>
                    <td>d0</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンテンショナースイング角</td>
                    <td><label id="F1_label_swangle_sim2"></label></td>
                    <td>degree</td>
                    <td>θ0</td>
                </tr>
                <tr>
                    <td rowspan="6">Sim-3</br>(※1)</td>
                    <td colspan="2">最長チェーンステー長</td>
                    <td><label id="F1_label_dlcs_sim3"></label></td>
                    <td>mm</td>
                    <td>dlcs</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンコマ数</td>
                    <td><label id="F1_label_nc_sim3"></label></td>
                    <td>pcs.</td>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">開始コマと終端コマの距離</td>
                    <td><label id="F1_label_dist_sim3"></label></td>
                    <td>mm</td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">部品中心間</br>距離</td>
                    <td>チェーンステー</br>　⇔チェーンピン</td>
                    <td><label id="F1_label_dd0_sim3"></label></td>
                    <td>mm</td>
                    <td>d'0</td>
                </tr>
                <tr>
                    <td>チェーンステー</br>　⇔プーリー</br>( ≒ d'0 + D3/2 )</td>
                    <td><label id="F1_label_d0_sim3"></label></td>
                    <td>mm</td>
                    <td>d0</td>
                </tr>
                <tr>
                    <td colspan="2">チェーンテンショナースイング角</td>
                    <td><label id="F1_label_swangle_sim3"></label></td>
                    <td>degree</td>
                    <td>θ0</td>
                </tr>
                <tr>
                    <td colspan="6">※1 Sim-1と同じ長さのチェーンを目いっぱい張った時のチェーン軌道</td>
                </tr>
                <tr>
                    <td colspan="6" class="chart">
                        <div style="width:600px">
                            <canvas id="mychart-scatter"></canvas>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">　<label id="F1_label_returnMsg"></label></td>
                </tr>
                <tr>
                    <th colspan="6" style="text-align:left">テンションスプリング仕様</th>
                </tr>
                <tr>
                    <td rowspan="3" colspan="2">チェーンテンショナー</br>スイング角</td>
                    <td>Sim-1</td>
                    <td><label id="F1_label_swangle_sim1_2"></label></td>
                    <td rowspan="3">degree</td>
                    <td rowspan="3">θ0</td>
                </tr>
                <tr>
                    <td>Sim-3</td>
                    <td><label id="F1_label_swangle_sim3_2"></label></td>
                </tr>
                <tr>
                    <td>Δθ0</td>
                    <td><label id="F1_label_delta_swangle"></label></td>
                </tr>
                <tr>
                    <td colspan="3">テンションスプリング固定位置</br></br>※ 数値を変更する場合は入力欄に入力後、</br>　 リターンキーを押してください。</td>
                    <td>
                        <input type="text" id="F1_input_rs" value="56.0"  onchange="setDeflection()">
                        <INPUT type="button" id="F1_BTN_rs_ini" value="初期値" onClick="set_rsIni()">
                    </td>
                    <td>mm</td>
                    <td>Rs</td>
                </tr>
                <tr>
                    <td colspan="3">テンションスプリングたわみ量(最大)</td>
                    <td><label id="F1_label_deflection"></label></td>
                    <td>mm</td>
                    <td>Lmax</td>
                </tr>
                <tr>
                    <td colspan="6" class="chart"><img src="./chainDevice.jpg" width="600px"></td>
                </tr>
                <tr>
                    <td colspan="6"></td>
                </tr>
            </tbody>
        </table>
        
        <input type="hidden" id="hidden_F1_label_d1" value="">
        <input type="hidden" id="hidden_F1_label_d2" value="">
        <input type="hidden" id="hidden_F1_label_d3" value="">
        <input type="hidden" id="hidden_F1_label_d0" value="">
        
        <input type="hidden" id="hidden_F1_label_dlcs_sim1" value="">
        <input type="hidden" id="hidden_F1_label_nc_sim1" value="">
        <input type="hidden" id="hidden_F1_label_dist_sim1" value="">
        <input type="hidden" id="hidden_F1_label_dd0_sim1" value="">
        <input type="hidden" id="hidden_F1_label_d0_sim1" value="">
        <input type="hidden" id="hidden_F1_label_swangle_sim1" value="">

        <input type="hidden" id="hidden_F1_input_dlcs_sim2" value="">
        <input type="hidden" id="hidden_F1_label_nc_sim2" value="">
        <input type="hidden" id="hidden_F1_label_dist_sim2" value="">
        <input type="hidden" id="hidden_F1_label_dd0_sim2" value="">
        <input type="hidden" id="hidden_F1_label_d0_sim2" value="">
        <input type="hidden" id="hidden_F1_label_swangle_sim2" value="">

        <input type="hidden" id="hidden_F1_label_dlcs_sim3" value="">
        <input type="hidden" id="hidden_F1_label_nc_sim3" value="">
        <input type="hidden" id="hidden_F1_label_dist_sim3" value="">
        <input type="hidden" id="hidden_F1_label_dd0_sim3" value="">
        <input type="hidden" id="hidden_F1_label_d0_sim3" value="">
        <input type="hidden" id="hidden_F1_label_swangle_sim3" value="">

        <input type="hidden" id="hidden_F1_label_swangle_sim1_2" value="">
        <input type="hidden" id="hidden_F1_label_swangle_sim3_2" value="">
        <input type="hidden" id="hidden_F1_label_delta_swangle" value="">
        <input type="hidden" id="hidden_F1_label_deflection" value="">

    </form>
    <script src="main.js"></script>
    <script src="orbit.js"></script>
</body>
</html>